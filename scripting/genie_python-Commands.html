

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Genie Python Commands &mdash; IBEX User Manual</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=9f04a737" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=2709fde1"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Script Generator" href="../Script-Generator.html" />
    <link rel="prev" title="Tips &amp; Examples" href="Tips-and-Examples.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #343131" >

          
          
          <a href="../index.html" class="icon icon-home">
            IBEX User Manual
              <img src="../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Key-Concepts-in-IBEX.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FAQ.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Features</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../IBEX-GUI-Features.html">IBEX GUI</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../Scripting.html">Scripting</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Alerts-on-Blocks.html">Alerts on Blocks</a></li>
<li class="toctree-l2"><a class="reference internal" href="Block-names-helper.html">Block Names Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="Creating-and-Running-Scripts.html">Creating &amp; Running Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="Error-Checking-Troubleshooting.html">Error Checking Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="Genie-Python-Training.html">Genie Python Training Course</a></li>
<li class="toctree-l2"><a class="reference internal" href="Matplotlib.html">Matplotlib</a></li>
<li class="toctree-l2"><a class="reference internal" href="Pre-and-Post-Command-Hooks.html">Pre &amp; Post-command Hooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="Simulating-Scripts.html">Simulating Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="The-Scripting-Console.html">The Scripting Console</a></li>
<li class="toctree-l2"><a class="reference internal" href="Tips-and-Examples.html">Tips &amp; Examples</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Genie Python Commands</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Script-Generator.html">Script Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../The-Web-Dashboard.html">Web Dashboard</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../How-To.html">How do I …?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IBEX-File-Paths-page.html">Where is …?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Instrument-Specific-Guidance.html">Instrument-specific guidance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Device-Specific-Guidance.html">Device-specific guidance</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #343131" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IBEX User Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../Scripting.html">Scripting</a></li>
      <li class="breadcrumb-item active">Genie Python Commands</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ISISComputingGroup/ibex_user_manual/blob/master/doc/scripting/genie_python-Commands.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="genie-python-commands">
<h1>Genie Python Commands<a class="headerlink" href="#genie-python-commands" title="Link to this heading"></a></h1>
<section id="running-genie-python-commands">
<h2>Running genie_python commands<a class="headerlink" href="#running-genie-python-commands" title="Link to this heading"></a></h2>
<p>When running <code class="docutils literal notranslate"><span class="pre">python</span></code> from an interactive console such as from
the GUI or after running <code class="docutils literal notranslate"><span class="pre">C:\Instrument\Apps\Python3\genie_python.bat</span></code>,
the <code class="docutils literal notranslate"><span class="pre">genie</span></code> module will be aliased to <code class="docutils literal notranslate"><span class="pre">g</span></code>. Genie commands can then
be accessed by using the prefix <code class="docutils literal notranslate"><span class="pre">g.[COMMAND_NAME]</span></code>. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">g</span><span class="o">.</span><span class="n">begin</span><span class="p">()</span>
<span class="n">g</span><span class="o">.</span><span class="n">cset</span><span class="p">(</span><span class="s2">&quot;BLOCK_1&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">abort</span><span class="p">()</span>
</pre></div>
</div>
<p>This is particularly useful from the GUI which will auto-complete
commands and provide tool tips describing each function and its
arguments.</p>
<p>Note that in many cases, arguments will be optional. For instance,
<code class="docutils literal notranslate"><span class="pre">begin</span></code> can be used as <code class="docutils literal notranslate"><span class="pre">g.begin()</span></code> despite supporting all of the
arguments <code class="docutils literal notranslate"><span class="pre">period</span></code>, <code class="docutils literal notranslate"><span class="pre">meas_id</span></code>, <code class="docutils literal notranslate"><span class="pre">meas_type</span></code>, <code class="docutils literal notranslate"><span class="pre">meas_subid</span></code>,
<code class="docutils literal notranslate"><span class="pre">sample_id</span></code>, <code class="docutils literal notranslate"><span class="pre">delayed</span></code>, <code class="docutils literal notranslate"><span class="pre">quiet</span></code>, <code class="docutils literal notranslate"><span class="pre">paused</span></code>, and <code class="docutils literal notranslate"><span class="pre">verbose</span></code>.</p>
<section id="running-in-simulation-mode">
<h3>Running in simulation mode<a class="headerlink" href="#running-in-simulation-mode" title="Link to this heading"></a></h3>
<p>Genie_python can be used in simulation mode. Simulation mode will allow you to run scripts but without changing items on your instrument. It does this by putting dummy commands in for some genie command, it also creates dummy blocks on the fly so that block values can be read and written to. <strong>N.B.</strong> This means that simulation can not be this will not validate your block names within the script. To run in simulation mode use the <code class="docutils literal notranslate"><span class="pre">genie_python_simulate.bat</span></code> found in <code class="docutils literal notranslate"><span class="pre">C:\Instrument\Apps\Python3</span></code>.</p>
</section>
</section>
<section id="common-genie-python-commands">
<h2>Common genie_python commands<a class="headerlink" href="#common-genie-python-commands" title="Link to this heading"></a></h2>
<p>Many <code class="docutils literal notranslate"><span class="pre">genie_python</span></code> commands share the same name with their Open GENIE
equivalent so it will often be very straightforward to find the function
you’re looking for. Still, here is a list of the most commonly used
<code class="docutils literal notranslate"><span class="pre">genie_python</span></code> commands. This is <strong>not a complete list</strong>. For full
information, consult the <a class="reference external" href="http://shadow.nd.rl.ac.uk/genie_python/sphinx/genie_python.html">genie_python reference manual</a>.</p>
<section id="starting-and-stopping-a-run">
<h3>Starting and stopping a run<a class="headerlink" href="#starting-and-stopping-a-run" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Command</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>begin</p></td>
<td><p>Starts a new run</p></td>
<td><p>g.begin()</p></td>
</tr>
<tr class="row-odd"><td><p>end</p></td>
<td><p>Ends the current run</p></td>
<td><p>g.end()</p></td>
</tr>
<tr class="row-even"><td><p>abort</p></td>
<td><p>Aborts the current run</p></td>
<td><p>g.abort()</p></td>
</tr>
<tr class="row-odd"><td><p>pause</p></td>
<td><p>Pauses the current run</p></td>
<td><p>g.pause()</p></td>
</tr>
<tr class="row-even"><td><p>resume</p></td>
<td><p>Resumes the current run after it has been paused</p></td>
<td><p>g.resume()</p></td>
</tr>
</tbody>
</table>
</section>
<section id="updating-blocks-and-pvs">
<h3>Updating blocks and PVs<a class="headerlink" href="#updating-blocks-and-pvs" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Command</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>cget</p></td>
<td><p>Gets the useful values associated with a block</p></td>
<td><p>g.cget(“NEW_BLOCK”)</p></td>
</tr>
<tr class="row-odd"><td><p>cset</p></td>
<td><p>Sets the setpoint and runcontrol settings for blocks</p></td>
<td><p>g.cset(“NEW_BLOCK”,1)</p></td>
</tr>
<tr class="row-even"><td><p>get_pv</p></td>
<td><p>Gets the value for the specified PV</p></td>
<td><p>g.get_pv(“IN:INSTNAME:IOC_01:STAT”)</p></td>
</tr>
<tr class="row-odd"><td><p>set_pv</p></td>
<td><p>Sets the value for the specified PV</p></td>
<td><p>g.set_pv(“IN:INSTNAME:IOC_01:STAT”,1)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="run-control">
<h3>Run control<a class="headerlink" href="#run-control" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Command</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>get_uamps</p></td>
<td><p>Gets the current number of micro-amp hours</p></td>
<td><p>g.get_uamps()</p></td>
</tr>
<tr class="row-odd"><td><p>get_frames</p></td>
<td><p>Gets the current number of good frames</p></td>
<td><p>g.get_frames()</p></td>
</tr>
<tr class="row-even"><td><p>get_runstate</p></td>
<td><p>Gets the current status of the instrument as a string</p></td>
<td><p>g.get_runstate()</p></td>
</tr>
<tr class="row-odd"><td><p>get_mevents</p></td>
<td><p>Gets the total counts for all the detectors</p></td>
<td><p>g.get_mevents()</p></td>
</tr>
<tr class="row-even"><td><p>get_totalcounts</p></td>
<td><p>Gets the total counts for the current run</p></td>
<td><p>g.get_totalcounts()</p></td>
</tr>
<tr class="row-odd"><td><p>waitfor</p></td>
<td><p>Waits until certain conditions are met</p></td>
<td><p>g.waitfor(“NEW_BLOCK”,value=1)</p></td>
</tr>
<tr class="row-even"><td><p>waitfor_block</p></td>
<td><p>Waits until block reaches specific value</p></td>
<td><p>g.waitfor_block(“NEW_BLOCK”,1)</p></td>
</tr>
<tr class="row-odd"><td><p>waitfor_time</p></td>
<td><p>Waits for a specified amount of time</p></td>
<td><p>g.waitfor_time(1)</p></td>
</tr>
<tr class="row-even"><td><p>waitfor_frames</p></td>
<td><p>Waits for a number of total good frames to reach parameter value</p></td>
<td><p>g.waitfor_frames(1000)</p></td>
</tr>
<tr class="row-odd"><td><p>waitfor_uamps</p></td>
<td><p>Waits for a specific total charge</p></td>
<td><p>g.waitfor_uamps(9.9)</p></td>
</tr>
<tr class="row-even"><td><p>waitfor_runstate</p></td>
<td><p>Waits for a particular instrument run state</p></td>
<td><p>g.waitfor_runstate(“paused”)</p></td>
</tr>
<tr class="row-odd"><td><p>waitfor_move</p></td>
<td><p>Waits for all motion or specific motion to complete</p></td>
<td><p>g.waitfor_move(“NEW_BLOCK”)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="toggling-options">
<h3>Toggling options<a class="headerlink" href="#toggling-options" title="Link to this heading"></a></h3>
<p>Various options can be toggled with the <code class="docutils literal notranslate"><span class="pre">toggle</span></code> command.</p>
<p>For example, toggling the verbosity of all calls to a command using <code class="docutils literal notranslate"><span class="pre">toggle.cset_verbose(True)</span></code>. This can be convenient, as there will be no need to explicitly set <code class="docutils literal notranslate"><span class="pre">verbose=True</span></code> for each <code class="docutils literal notranslate"><span class="pre">cset</span></code> call.</p>
<p>There are also advanced options such as <code class="docutils literal notranslate"><span class="pre">toggle.exceptions_raised(True)</span></code>, which will allow exceptions to propagate instead of genie handling them, in case you want to handle exceptions yourself. WARNING: If you have this toggled to True and there is an exception within genie_python it will stop your script from running unless you catch the exception yourself.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Tips-and-Examples.html" class="btn btn-neutral float-left" title="Tips &amp; Examples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../Script-Generator.html" class="btn btn-neutral float-right" title="Script Generator" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
      <span class="lastupdated">Last updated on Sep 01, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>